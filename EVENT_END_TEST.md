# 이벤트 종료 조건 테스트 시나리오

## 종료 조건 정리

### 1. 기간 종료
- **조건**: `event_end_date`가 현재 날짜보다 이전인 경우
- **처리 위치**: `PostService::getPostsByBoard()` - 리스트 조회 시 자동 판단
- **적용 타입**: 모든 이벤트 타입 (general, application, quiz)

### 2. 포인트 지급 완료 시 종료
- **조건**: 모든 참여자에게 포인트 지급이 완료된 경우
- **처리 위치**: 
  - `PostController::awardPoints()` - 신청형 이벤트
  - `PostController::awardQuizPoints()` - 정답형 이벤트
- **적용 타입**: 
  - `application` (신청형): 모든 참여자에게 지급 완료 시
  - `quiz` (정답형): 모든 정답 선택자에게 지급 완료 시
  - `general` (공지형): 포인트 지급 없음 (해당 없음)

### 3. 운영자 수동 종료
- **조건**: 운영자가 종료 버튼 클릭
- **처리 위치**: `PostController::endEvent()`
- **적용 타입**: 모든 이벤트 타입

## 테스트 시나리오

### 시나리오 1: 기간 종료 테스트
1. 이벤트 생성 (event_end_date를 어제 날짜로 설정)
2. 이벤트 게시판 리스트 조회
3. **예상 결과**: 종료된 이벤트로 분류되어 리스트 하단에 표시

### 시나리오 2: 신청형 이벤트 포인트 지급 완료 시 종료
1. 신청형 이벤트 생성
2. 여러 사용자가 이벤트 참여
3. 운영자가 모든 참여자에게 포인트 일괄 지급
4. **예상 결과**: 이벤트가 자동으로 종료됨 (event_is_ended = true)

### 시나리오 3: 정답형 이벤트 포인트 지급 완료 시 종료
1. 정답형 이벤트 생성 (정답 선택지 포함)
2. 여러 사용자가 정답 선택하여 참여
3. 운영자가 정답 선택자에게 포인트 일괄 지급
4. **예상 결과**: 이벤트가 자동으로 종료됨 (event_is_ended = true)

### 시나리오 4: 운영자 수동 종료
1. 진행중인 이벤트 상세 페이지 접속 (관리자 계정)
2. 종료 버튼 클릭
3. 확인 메시지에서 확인
4. **예상 결과**: 이벤트가 종료됨 (event_is_ended = true)

### 시나리오 5: 종료된 이벤트 리스트 정렬
1. 진행중인 이벤트와 종료된 이벤트가 섞여 있는 게시판
2. 이벤트 게시판 리스트 조회
3. **예상 결과**: 
   - 진행중인 이벤트가 상단에 표시 (고정 > 공지 > 일반 순)
   - 종료된 이벤트가 하단에 표시

## 확인 사항

- [ ] 기간이 지난 이벤트가 자동으로 종료 상태로 표시되는가?
- [ ] 신청형 이벤트에서 모든 참여자에게 포인트 지급 시 자동 종료되는가?
- [ ] 정답형 이벤트에서 모든 정답 선택자에게 포인트 지급 시 자동 종료되는가?
- [ ] 운영자 종료 버튼이 정상 작동하는가?
- [ ] 종료된 이벤트가 리스트 하단으로 이동하는가?
- [ ] 종료된 이벤트에는 종료 버튼이 표시되지 않는가?










